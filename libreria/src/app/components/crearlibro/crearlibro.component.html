<div class="container">
    <h2>{{titulo}}</h2>
    <div class="message success" *ngIf="status=='success'">
        El libro se ha guardado correctamente, puedes verlo <a [routerLink]="['/libro,idGuardado']">aqui</a>
    </div>
    <div class="message failed" *ngIf="status=='failed'">
        El libro no se a podido guardar.
    </div>

    <form #libroForm="ngForm" (ngSubmit)="guardarLibro(libroForm)">
        <p>
            <label for="nombre">Nombre</label>
            <input type="text" name="nombre" #nombre="ngModel" [(ngModel)]="libro.nombre" required> <!--apuntar al componente libro nombre -->
            <span *ngIf="nombre.touched && !nombre.valid">
                nombre obligatorio 
            </span>
        </p>
        <p>
            <label for="autor">Autor</label>
            <input type="text" name="autor" #autor="ngModel" [(ngModel)]="libro.autor" required> <!--apuntar al componente libro nombre -->
            <span *ngIf="autor.touched && !autor.valid">
                autor obligatorio 
            </span>
        </p>
        <p>
            <label for="edicion">Edicion</label>
            <input type="text" name="edicion" #edicion="ngModel" [(ngModel)]="libro.edicion" required> <!--apuntar al componente libro nombre -->
            <span *ngIf="edicion.touched && !edicion.valid">
                edicion obligatorio 
            </span>
        </p>

        <p>
            <label for="anio">AÃ±o</label>
            <input type="number" name="anio" #anio="ngModel" [(ngModel)]="libro.anio" required> <!--apuntar al componente libro nombre -->
        </p>
        <p>
            <label for="precio">Precio</label>
            <input type="number" name="precio" #precio="ngModel" [(ngModel)]="libro.precio" required> <!--apuntar al componente libro nombre -->
        </p>

        <p>
            <label for="imagen">Imagen</label>
            <span *ngIf="libro.imagen" style="float:none">
              <img src="{{url+'get-imagen/+libro.imagen'}}" style="width:100px">
            </span>
            <input type="file" #archivoImagen placeholder="Seleccionar una imagen" (change)="imagenChangeEvent($event)">
        </p>
      
        <input type="submit" value="Guardar" [disabled]="!libroForm.form.valid">
    </form>
</div>
